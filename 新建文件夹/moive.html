




<div class="indent" id="link-report-intra">
                        <span property="v:summary" class="" id="introduction">
                                　　钳工胡建林（大鹏 饰）在集团裁员之际阴差阳错被调入总部，裹挟在“错调”事件中的人事经理马杰（白客 饰）为保饭碗被迫为其隐瞒四处周旋。从“工厂”到“大厂”，从“蓝领”变“金领”，胡建林因与大厂环境格格不入而笑料百出，也像一面“职场照妖镜”照出职场众生相......胡建林为何能在裁员之际一路升职加薪制霸大厂？马杰又能否在“错调”事件中全身而退？这场离谱的“错调”背后又隐藏着什么惊天大瓜……
                        </span>
            <div class="clear"></div>


        </div>
    </div>
    <div id="related-pic" class="related-pic">
        <h2>
            <i class="">剧照</i>
            · · · · · ·
        </h2>
        <ul class="related-pic-bd  ">
            <li>
                <a href="#"><img src="css/images/老婆1.png" alt="图片" ></a>
            </li>
            <li>
                <a href="#"><img src="css/images/老婆1.png" alt="图片" ></a>
            </li>
            <li>
                <a href="#"><img src="css/images/老婆1.png" alt="图片" ></a>
            </li>
            <li>
                <a href="#"><img src="css/images/background1.jpg" alt="图片" ></a>
            </li>
        </ul>
    </div>
    <h2>评论区</h2>
    <div class="sortOptions">

        <label>排序方式：</label>
        <div id="sortBy">
            <button value="time">最新</button>
            <button value="rating">最高</button>
        </div>
    </div>
    <div id="comments">
        <!-- 这里是评论内容 -->
    </div>
    <div id="commentForm">
        <form action="../public/addComment.php" method="post">
            <input type="hidden" name="movie_id" value="2"/><!--这个value由php生成-->
            <label>编辑评论内容<br>
                <textarea rows="5" cols="44" name="comment_content" required></textarea>
            </label>
            <br>
            <label>评分(0.0~10.0)
                <input type="number" name="rating" step="0.1" min="0.0" max="10.0" required/>
            </label>
            <input type="submit"/>
            <br>
        </form>
    </div>
    <script>
        // 评论数组
        const comments = [
            {
                text: '这是第一个评论',
                username: 'user1',
                avatar: 'css/images/movie1.jpg',
                timestamp: '2024-01-05 10:30:00',
                rating: 4
            },
            {
                text: '这是第二个评论',
                username: 'user2',
                avatar: 'css/images/movie1.jpg',
                timestamp: '2024-01-07 14:20:00',
                rating: 3.5
            },
            {
                text: '感觉不如圆神，我要原神启动了哈哈哈哈哈哈哈',
                username: 'user3',
                avatar: 'css/images/movie3.jpg',
                timestamp: '2024-01-09 08:45:00',
                rating: 5
            },
            {
                text: '这是第四个评论',
                username: 'user3',
                avatar: 'css/images/movie6.jpg',
                timestamp: '2024-01-09 08:45:10',
                rating: 2.5
            },
        ];
        // 选择排序方式（'time' 或 'rating'）
        const sortBySelect = document.getElementById('sortBy');
        sortBySelect.addEventListener('click', function (event) {
            // 获取选择的值
            const sortBy = event.target.value;
            // 根据选择的值更新排序方式
            if (sortBy === 'time') {
                comments.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
            } else if (sortBy === 'rating') {
                comments.sort((a, b) => b.rating - a.rating);
            }
            // 更新评论显示
            updateCommentsDisplay();
        });
        function updateCommentsDisplay() {
            // 清空评论容器
            const commentsContainer = document.getElementById('comments');
            commentsContainer.innerHTML = '';
            // 选择最新的三个评论
            const latestComments = comments.slice(0, 3);
            // 根据选择的排序方式进行排序
            const sortBy = document.getElementById('sortBy').value;
            if (sortBy === 'time') {
                latestComments.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
            } else if (sortBy === 'rating') {
                latestComments.sort((a, b) => b.rating - a.rating);
            }
            // 在页面上展示评论
            latestComments.forEach(comment => {
                const commentElement = document.createElement('div');
                commentElement.classList.add('comment');
                const userAvatar = document.createElement('img');
                userAvatar.src = comment.avatar;
                userAvatar.alt = '用户头像';
                userAvatar.classList.add('avatar');
                commentElement.appendChild(userAvatar);
                const commentDetails = document.createElement('div');
                commentDetails.classList.add('comment-details');
                const username = document.createElement('p');
                username.innerText = `用户名: ${comment.username}`;
                commentDetails.appendChild(username);
                const commentText = document.createElement('p');
                commentText.innerText = comment.text;
                commentDetails.appendChild(commentText);
                const timestamp = document.createElement('p');
                const commentTime = new Date(comment.timestamp);
                timestamp.innerText = `发表时间: ${commentTime.toLocaleString()}`;
                commentDetails.appendChild(timestamp);
                const rating = document.createElement('p');
                rating.innerText = `评分: ${comment.rating}`;
                commentDetails.appendChild(rating);
                commentElement.appendChild(commentDetails);
                commentsContainer.appendChild(commentElement);
            });
        }
        // 初始化评论显示
        updateCommentsDisplay();
    </script>

</div>
</body>
</html>